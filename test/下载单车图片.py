import requests
from lxml import etree
from bs4 import BeautifulSoup

url = 'https://image.baidu.com/search/index?tn=baiduimage&ps=1&ct=201326592&lm=-1&cl=2&nc=1&ie=utf-8&dyTabStr=MCw2LDEsMywyLDQsNSw3LDgsOQ%3D%3D&word=%E5%93%88%E7%BD%97%E5%8D%95%E8%BD%A6'

headers = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.43',
    'Accept': 'image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8',
    'Cookie':'BIDUPSID=7B2D91344BF8E1CAFCD457ECBAE72FA3; PSTM=1638507561; __yjs_duid=1_d2802d5a64fc3b95e978a26a2193a1231638796369978; ab_jid=7e7c412a083371ad6d3cadf8e3b84704bc1e; ab_jid_BFESS=7e7c412a083371ad6d3cadf8e3b84704bc1e; BAIDUID_BFESS=C616C53F8E56C78BEDD58FDDDFE0C0C2:FG=1; __bid_n=183f05e27624cf9c964207; BAIDU_WISE_UID=wapp_1680447963751_325; ZFY=nLgzxy8YjrbCR00a2uvsEf3WOU4:AoHzfWgcHz31TAAI:C; FPTOKEN=ICYGvhhF8PeRMVFIFmcKMt7J2YcsAeuSNr3EVcSmKPZtTdurRh6ip1uxxzBriUIdqyeNGrHgjD3CgEIc0lhRCKkdDXqbJTWasa8fUrFtOqQtCHLp0l1+NVRGPPtCnh9Mh2h5ZH5MwXCCX8v35LLMZUX5senwDq4vyJAmxDTp82XHurEVA7j7URkh7NcVZpABCKdJuTUjpT4NH8/eu9bpY4Qo82C0AayF+lfDtB8zb3CEFrMRKr4f6YpUo/BcuWW8IAPIa/Mk7cgQvQ/gaRbk4jtK49myhU+4t6SmaSkBQPcABaIOqLuOD7poIo16YmQ2D3O4HZaUni+pQezPRgc3oBiSS1OVcwkq2tCCKAUNSDbLMOB4LtbIQHNBWH6ETo5iHm4ItH8zhul9uJRWOktrvg==|NPozXgnfF067Zgacas7Bevo4RuT/6hgEDIKkAMUzO2Q=|10|511bcddeaf5b9332767cf766cf992f2c; BDUSS=FMWWQtSWpLMFl1M3FXdnphMG9LVU5kb204dkZUT1A4TU5FdXl4TkNPR3d-TEJrSVFBQUFBJCQAAAAAAAAAAAEAAAD4j~lgvfDFo3hjZnMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALBviWSwb4lkdF; BDUSS_BFESS=FMWWQtSWpLMFl1M3FXdnphMG9LVU5kb204dkZUT1A4TU5FdXl4TkNPR3d-TEJrSVFBQUFBJCQAAAAAAAAAAAEAAAD4j~lgvfDFo3hjZnMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALBviWSwb4lkdF; RT="z=1&dm=baidu.com&si=4e7c7c7f-9173-4d82-aa1a-1364f8b2c5ed&ss=livn2u55&sl=4&tt=4y8&bcn=https%3A%2F%2Ffclog.baidu.com%2Flog%2Fweirwood%3Ftype%3Dperf&ld=3xun&ul=2hmii&hd=2hmk9"; BDRCVFR[dG2JNJb_ajR]=mk3SLVN4HKm; userFrom=null; BDRCVFR[-pGxjrCMryR]=mk3SLVN4HKm; delPer=0; PSINO=5; H_PS_PSSID=38515_36548_38687_38859_38903_38767_38800_38841_38832_38485_38815_38825_38823_38835_38639_38868_26350; BA_HECTOR=8g2g8lak81al0h2k8484ag841i8titi1o; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; ab_bid=514f13fcdb064480400f80cbb68b19d78ef1; ab_sr=1.0.1_MTAyODA0YTBhN2MwNzM4NDk0OGRhOTRlOTAwNjYxYWI5ZWJjYWVmY2RkMTM5NjY3MGQ4NzFmZTNiMDY1ZDYzMGRhZjUzMWZiYmQxMTM2NjdjNTI0NTRiYjIxOGYyZWE5Y2Y4NWM5ZTZmYzhiMzQ1NWVhMjc0OTkwYTc3NTlmODAwMzY0YWE0MmQxYTRiODlkYjgxMmYxMWE1OTFmMzA1Yg=='
}

response = requests.get(url=url, headers=headers)
response.encoding = 'utf-8'
content = response.text

# //div[@class='imgpage']/ul/li/div//img/@src
print(content)

with open('index.html', 'a', encoding='utf-8') as fp:
    fp.write(content)
